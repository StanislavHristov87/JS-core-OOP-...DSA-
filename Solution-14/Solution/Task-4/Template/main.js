export const employees = [
    {
      name: 'Guy Gilbert',
      address: {
        street: '7726 Driftwood Drive',
        city: 'Monroe'
      },
      hireDate: new Date('1998-07-31'),
      jobTitle: 'Production Technician',
      department: 'Production',
      salary: 12500,
      projects: [
        'Road Bottle Cage'
      ]
    },
    {
      name: 'Kevin Brown',
      address: {
        street: '2294 West 39th St.',
        city: 'Everett'
      },
      hireDate: new Date('1999-02-26'),
      jobTitle: 'Marketing Assistant',
      department: 'Marketing',
      salary: 13500,
      projects: []
    },
    {
      name: 'Roberto Tamburello',
      address: {
        street: '8000 Crane Court',
        city: 'Redmond'
      },
      hireDate: new Date('1999-12-12'),
      jobTitle: 'Engineering Manager',
      department: 'Engineering',
      salary: 43300,
      projects: []
    },
    {
      name: 'Rob Walters',
      address: {
        street: '5678 Lakeview Blvd.',
        city: 'Minneapolis'
      },
      hireDate: new Date('2000-01-05'),
      jobTitle: 'Senior Tool Designer',
      department: 'Tool Design',
      salary: 29800,
      projects: [
        'Touring Pedal',
        'ML Fork'
      ]
    },
    {
      name: "Thierry D'Hers",
      address: {
        street: '1399 Firestone Drive',
        city: 'Bothell'
      },
      hireDate: new Date('2000-01-11'),
      jobTitle: 'Tool Designer',
      department: 'Tool Design',
      salary: 25000,
      projects: [
        'Hydration Pack',
        'Fender Set - Mountain'
      ]
    },
    {
      name: 'David Bradley',
      address: {
        street: '9882 Clay Rde',
        city: 'Redmond'
      },
      hireDate: new Date('2000-01-20'),
      jobTitle: 'Marketing Manager',
      department: 'Purchasing',
      salary: 37500,
      projects: []
    },
    {
      name: 'JoLynn Dobney',
      address: {
        street: '8290 Margaret Ct.',
        city: 'Seattle'
      },
      hireDate: new Date('2000-01-26'),
      jobTitle: 'Production Supervisor',
      department: 'Production',
      salary: 25000,
      projects: [
        'Hydration Pack',
        'Fender Set - Mountain',
        'Water Bottle'
      ]
    },
    {
      name: 'Ruth Ellerbrock',
      address: {
        street: '5242 Marvelle Ln.',
        city: 'Everett'
      },
      hireDate: new Date('2000-02-06'),
      jobTitle: 'Production Technician',
      department: 'Production',
      salary: 13500,
      projects: [
        'Water Bottle'
      ]
    },
    {
      name: 'Gail Erickson',
      address: {
        street: '6307 Greenbelt Way',
        city: 'Bellevue'
      },
      hireDate: new Date('2000-02-06'),
      jobTitle: 'Design Engineer',
      department: 'Engineering',
      salary: 32700,
      projects: [
        'Hitch Rack - 4-Bike'
      ]
    },
    {
      name: 'Barry Johnson',
      address: {
        street: '3280 Pheasant Circle',
        city: 'Snohomish'
      },
      hireDate: new Date('2000-02-07'),
      jobTitle: 'Production Technician',
      department: 'Production',
      salary: 13500,
      projects: []
    },
    {
      name: 'Jossef Goldberg',
      address: {
        street: '7559 Worth Ct.',
        city: 'Renton'
      },
      hireDate: new Date('2000-02-24'),
      jobTitle: 'Design Engineer',
      department: 'Engineering',
      salary: 32700,
      projects: [
        'Bike Wash'
      ]
    },
    {
      name: 'Terri Duffy',
      address: {
        street: '5670 Bel Air Dr.',
        city: 'Renton'
      },
      hireDate: new Date('2000-03-03'),
      jobTitle: 'Vice President of Engineering',
      department: 'Engineering',
      salary: 63500,
      projects: []
    },
    {
      name: 'Sidney Higa',
      address: {
        street: '172 Turning Dr.',
        city: 'Edmonds'
      },
      hireDate: new Date('2000-03-05'),
      jobTitle: 'Production Technician',
      department: 'Production',
      salary: 13500,
      projects: [
        'HL Touring Handlebars',
        'Rear Derailleur',
        'Water Bottle'
      ]
    },
    {
      name: 'Taylor Maxwell',
      address: {
        street: '3026 Anchor Drive',
        city: 'Edmonds'
      },
      hireDate: new Date('2000-03-11'),
      jobTitle: 'Production Supervisor',
      department: 'Production',
      salary: 25000,
      projects: [
        'Taillight',
        'All-Purpose Bike Stand'
      ]
    },
    {
      name: 'Jeffrey Ford',
      address: {
        street: '1356 Grove Way',
        city: 'Monroe'
      },
      hireDate: new Date('2000-03-23'),
      jobTitle: 'Production Technician',
      department: 'Production',
      salary: 13500,
      projects: [
        'Headlights - Weatherproof',
        'Water Bottle'
      ]
    },
    {
      name: 'Jo Brown',
      address: {
        street: '9693 Mellowood Street',
        city: 'Duvall'
      },
      hireDate: new Date('2000-03-30'),
      jobTitle: 'Production Supervisor',
      department: 'Production',
      salary: 25000,
      projects: [
        'Headlights - Dual-Beam',
        'Rear Derailleur',
        'Water Bottle'
      ]
    },
    {
      name: 'Doris Hartwig',
      address: {
        street: '5050 Mt. Wilson Way',
        city: 'Kenmore'
      },
      hireDate: new Date('2000-04-11'),
      jobTitle: 'Production Technician',
      department: 'Production',
      salary: 13500,
      projects: [
        'Headlights - Dual-Beam',
        'Rear Derailleur'
      ]
    },
    {
      name: 'John Campbell',
      address: {
        street: '2144 San Rafael',
        city: 'Seattle'
      },
      hireDate: new Date('2000-04-18'),
      jobTitle: 'Production Supervisor',
      department: 'Production',
      salary: 25000,
      projects: [
        'Touring-2000',
        'Headlights - Weatherproof'
      ]
    },
    {
      name: 'Diane Glimp',
      address: {
        street: '2427 Notre Dame Ave.',
        city: 'Redmond'
      },
      hireDate: new Date('2000-04-29'),
      jobTitle: 'Production Technician',
      department: 'Production',
      salary: 13500,
      projects: [
        'Hydration Pack',
        'Fender Set - Mountain'
      ]
    },
    {
      name: 'Steven Selikoff',
      address: {
        street: '3385 Crestview Drive',
        city: 'Everett'
      },
      hireDate: new Date('2001-01-02'),
      jobTitle: 'Production Technician',
      department: 'Production',
      salary: 9500,
      projects: []
    }
  ].slice();




// const findEmployeesInPriceRange = (employees, { min = 0, max = Number.MAX_SAFE_INTEGER } = {}) => {

//     return employees.filter((employee) => employee.salary >= min && employee.salary <= max)
//     .map((employee) => employee.name);
//     };

// console.log(findEmployeesInPriceRange(employees,
//      { max: 20000 })); // [ 'Guy Gilbert', 'Kevin Brown', ...] (9 employees total)
// console.log(findEmployeesInPriceRange(employees,
//      { min: 25000 })); // 11 employees
// console.log(findEmployeesInPriceRange(employees,
//      { min: 15000, max: 30000 })); // 6 employees


// const findByProjects = (employees, ...projectNames) => {
//     projectNames.length > 0
//    const areEqual =  employees.find(e =>
//     e.projects.length > 0 &&
//     projectNames.every(p => e.projects.includes(p)))
  
//     return areEqual;
// }

// Write a function getDepartments that returns all unique departments


// const getDepartments = (employees) => {
// const result = employees.reduce((acc, employee) => {

//     if (!acc.includes(employee.department)) {
//       acc.push(employee.department);
//     }
//     return acc;
//    }, [])
//    return result
// }


//  console.log(getDepartments(employees));
/* [
  'Production',
  'Marketing',
  'Engineering',
  'Tool Design',
  'Purchasing'
] */

// Write a function getProjects that returns all unique projects

// const getProjects = (employees) => {
// const result = employees.reduce((acc, employee) => {
//   if (employee.projects.length === 0) {
//     return acc;
//   }
//     if (!acc.includes(employee.projects)) {
//       acc.push(employee.projects);
//     }
//     return acc;
//    }, [])
//    return result
// }
// console.log(getProjects(employees));
/* 
15 unique projects
[
  'Road Bottle Cage',
  'Touring Pedal',
  .. 
] */

// Write a function getDepartmentsWithEmployeesCount that returns all departments
// with the number of employees that work there.

// const getDepartmentsWithEmployeesCount = (employees) => {
// const result = employees.reduce((acc, employee) => {

//     if (!acc.hasOwnProperty(employee.department)) {
//        const depCount = employees.filter((em) => em.department.includes(employee.department));
//        acc[employee.department] = depCount.length;
//     }
//     return acc;
//    }, {})
//    return result
// }

// // the function should return an object with the department names as keys for that object
//  console.log(getDepartmentsWithEmployeesCount(employees))
/* {
  Production: 12,
  Marketing: 1,
  Engineering: 4,
  'Tool Design': 2,
  Purchasing: 1
} */

// Write a function getEmployeeWithMaxSalary that returns the employee with the highest salary

// const getEmployeeWithMaxSalary = (employees) => {
//  const result = employees.reduce((maxSalary, employee) => {
//     if ( employee.salary > maxSalary ) {
//       maxSalary = employee.salary;
//     } else {
//       maxSalary = maxSalary;
//     }
//     return maxSalary;
//   }, 0)
//   return result;
// }

//  console.log(getEmployeeWithMaxSalary(employees))
/* {
  name: 'Terri Duffy',
  salary: 63500,
  ... more properties
} */

// Write a function getCitiesByPopulation that accepts a number N and returns the top N towns by population (where most employees live)
// return info about each city in format { name: string, population: number}



// console.log(getCitiesByPopulation(employees, 1));
// // [ { name: 'Everett', population: 3 } ]

// console.log(getCitiesByPopulation(employees, 3));
// /* [
//   { name: 'Everett', population: 3 },
//   { name: 'Redmond', population: 3 },
//   { name: 'Monroe', population: 2 }
// ] */

const getCitiesByPopulation = (employees, cityCount) => {
  

    const result = employees.reduce((allCities, employee) => {
    
        if (!allCities.hasOwnProperty(employee.address.city )) {
           const depCount = employees.filter((em) => em.address.city.includes(employee.address.city));
           allCities[employee.address.city] = depCount.length;
        }
      
        return allCities;
       }, {})
  
const arrCities = Object.entries(result)
.sort((a, b) => b.population - a.population)

console.log(arrCities);
       return result
    }

const getCity = getCitiesByPopulation(employees);
console.log(getCity);